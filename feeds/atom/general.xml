<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>CLI! CLI! CLI!</title>
    <link href="https://cj-bc.github.io/blog/feeds/atom/general.xml" rel="self" />
    <link href="https://cj-bc.github.io/blog" />
    <id>https://cj-bc.github.io/blog/feeds/atom/general.xml</id>
    <author>
        <name>Cj-bc a.k.a Cj.BC_SD</name>
        <email>cj.bc-sd@outlook.jp</email>
    </author>
    <updated>2021-01-14T00:00:00Z</updated>
    <entry>
    <title>fzf.vimでカレントディレクトリ以外のGitファイルを検索</title>
    <link href="https://cj-bc.github.io/blog/posts/2021-01-13-GFiles-more-careful-with-fzf.html" />
    <id>https://cj-bc.github.io/blog/posts/2021-01-13-GFiles-more-careful-with-fzf.html</id>
    <published>2021-01-14T00:00:00Z</published>
    <updated>2021-01-14T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>fzf.vimでカレントディレクトリ以外のGitファイルを検索</h1>
  <div class="ui list">
    <div class="item">Posted on January 14, 2021</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on January 14, 2021
    </div>
  </div>
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;fzf.vim&#39;." href="/tags/fzf.vim.html" class="ui tag label">fzf.vim</a><a title="All pages tagged &#39;fzf&#39;." href="/tags/fzf.html" class="ui tag label">fzf</a><a title="All pages tagged &#39;vim&#39;." href="/tags/vim.html" class="ui tag label">vim</a>
  
</div>

<h1><code>GFiles</code>は便利</h1>
<p><code>GFiles</code>は、カレントディレクトリにgitレポジトリがあると仮定して、そのレポジトリに認識されるファイル(=一度はコミットされているファイル) の一覧を作り出します。</p>
<p>しかし、場合によっては「カレントディレクトリ以外のgitレポジトリにあるファイルを参照したい」ことがあると思います。</p>
<p>例えば、私は普段プロジェクトに取り組んでいる最中にブログを書いたりするのですが、まさにその時などです。 カレントディレクトリはプロジェクトディレクトリのままで、ブログのレポジトリに対して<code>GFiles</code>を使いたいのです。</p>
<p>これは公式の方法が(多分)ないので直接書き換えます。</p>
<p><code>~/.vim/bundle/fzf.vim/autoload/fzf/vim.vim</code>の<code>s:get_git_root()</code>がgitレポジトリを見つけるためのコードなので、ここにfugitiveが使う<code>b:git_dir</code>変数の中身を適用するように編集します。</p>
<div class="ui segment">
<div class="ui top right attached label">
vim
</div>
<pre class="vim SourceCode"><code>function! s:get_git_root()
  let root = split(system(&#39;git rev-parse --show-toplevel&#39;), &#39;\n&#39;)[0]
  return v:shell_error ? &#39;&#39; : root
endfunction</code></pre>
</div>
<p>こうだったのが</p>
<div class="ui segment">
<div class="ui top right attached label">
vim
</div>
<pre class="vim SourceCode"><code>function! s:get_git_root()
  let root = split(system(&#39;git rev-parse --show-toplevel&#39;), &#39;\n&#39;)[0]
  let root_ = root ? root : b:git_dir
  return v:shell_error ? &#39;&#39; : root_
endfunction</code></pre>
</div>
<p>こうすることにより、<code>git_dir</code>も有効に検索されるようになりました。</p>
]]></summary>
</entry>
<entry>
    <title>After Effectショートカットキーチートシート(個人用)</title>
    <link href="https://cj-bc.github.io/blog/posts/2021-01-13-after-effect-cheat-sheet.html" />
    <id>https://cj-bc.github.io/blog/posts/2021-01-13-after-effect-cheat-sheet.html</id>
    <published>2021-01-13T00:00:00Z</published>
    <updated>2021-01-13T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>After Effectショートカットキーチートシート(個人用)</h1>
  <div class="ui list">
    <div class="item">Posted on January 13, 2021</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on January 14, 2021
    </div>
  </div>
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;after effect&#39;." href="/tags/after%20effect.html" class="ui tag label">after effect</a><a title="All pages tagged &#39;cheat sheet&#39;." href="/tags/cheat%20sheet.html" class="ui tag label">cheat sheet</a>
  
</div>

<p>個人用のチートシート</p>
<p>やりたいこと ショートカットキー ----------------- ------------------- Layerをカットする Ctrl+Shift+D</p>
]]></summary>
</entry>
<entry>
    <title>Expressionを使ったアニメーションのメモ</title>
    <link href="https://cj-bc.github.io/blog/posts/2021-01-13-after-effect-animation-with-expressions.html" />
    <id>https://cj-bc.github.io/blog/posts/2021-01-13-after-effect-animation-with-expressions.html</id>
    <published>2021-01-13T00:00:00Z</published>
    <updated>2021-01-13T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>Expressionを使ったアニメーションのメモ</h1>
  <div class="ui list">
    <div class="item">Posted on January 13, 2021</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on January 14, 2021
    </div>
  </div>
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;after effect&#39;." href="/tags/after%20effect.html" class="ui tag label">after effect</a>
  
</div>

<h1>Expression制御のEffectは必ずリネームする</h1>
<p>同じ種類のExpression制御Effectを一度しか使わないなら問題にはならない気がしますが、 後々見やすいのでリネームをした方が良いです。<br />
そして、<strong>できる限り早く</strong>リネームするようにしてください。 複数の同じエフェクトを作成・Expressionから参照した後にリネームした場合、 <strong>Expression内の同名の部分が全て新しい名前に置き換わります</strong>。<br />
例えば、</p>
<h2>リネームの仕方</h2>
<p><a href="https://creativecow.net/forums/thread/rename-expression-controlsae-2/">参考にしたもの</a></p>
<p>例えばスライダー制御のEffectをリネームする場合、<code>エフェクト→スライダー制御</code>を選択してEnterを押します。 すると普段通りにリネームできます。~~私は気付かなかった...~~</p>
<h1>Expressionのコピペ</h1>
<p>作成したExpressionを含むプロパティを選択しC-cで普段通りコピー。 コピー先のレイヤーを選択してC-vするとそのままペーストされる。</p>
]]></summary>
</entry>
<entry>
    <title>VRM_IMPORTER_for_Blender \#23 作業メモ</title>
    <link href="https://cj-bc.github.io/blog/posts/2021-01-11-blender-python-memo.html" />
    <id>https://cj-bc.github.io/blog/posts/2021-01-11-blender-python-memo.html</id>
    <published>2021-01-11T00:00:00Z</published>
    <updated>2021-01-11T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>VRM_IMPORTER_for_Blender \#23 作業メモ</h1>
  <div class="ui list">
    <div class="item">Posted on January 11, 2021</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on January 15, 2021
    </div>
  </div>
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;blender&#39;." href="/tags/blender.html" class="ui tag label">blender</a><a title="All pages tagged &#39;python&#39;." href="/tags/python.html" class="ui tag label">python</a>
  
</div>

<h1>追加されたシェーダーを探す</h1>
<h2>場所の特定</h2>
<p>そもそもファイルがどこに追加されているのかを確かめる必要がある。 そこで、<code>__init__.py</code>を参照する。(どうでもいいけど中身のある<code>__init__.py</code>は初めて見た)<br />
Blenderは、Addonが追加されるとクラスなどを登録するために<code>register()</code>という関数を探して実行する。 以下がこのAddonの<code>register()</code>関数。 (<a href="https://github.com/saturday06/VRM_IMPORTER_for_Blender/blob/a14835bfbc573a1d8f2be2a74ed198da46a573e4/__init__.py#L277-L285">githubで確認する</a>)</p>
<div class="ui segment">
<div class="ui top right attached label">
python
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode python SourceCode"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="co"># アドオン有効化時の処理</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="kw">def</span> register():</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>    <span class="cf">for</span> cls <span class="kw">in</span> classes:</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>        bpy.utils.register_class(cls)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>    bpy.types.TOPBAR_MT_file_import.append(menu_import)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a>    bpy.types.TOPBAR_MT_file_export.append(menu_export)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a>    bpy.types.VIEW3D_MT_armature_add.append(add_armature)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a>    <span class="co"># bpy.types.VIEW3D_MT_mesh_add.append(make_mesh)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a>    bpy.app.handlers.load_post.append(add_shaders)</span></code></pre></div>
</div>
<p>明らかに<code>bpy.app.handlers.load_post.append(add_shaders)</code>が怪しい。というか、<code>add_shaders</code>という わかりやすい名前があるので間違い無くここで追加している。 ということで<code>add_shaders</code>を見てみると (<a href="https://github.com/saturday06/VRM_IMPORTER_for_Blender/blob/a14835bfbc573a1d8f2be2a74ed198da46a573e4/__init__.py#L245-L253">githubで確認する</a>)</p>
<div class="ui segment">
<div class="ui top right attached label">
python
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode python SourceCode"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="at">@persistent</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="kw">def</span> add_shaders(<span class="va">self</span>):</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>    filedir <span class="op">=</span> os.path.join(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>        os.path.dirname(<span class="va">__file__</span>), <span class="st">&quot;resources&quot;</span>, <span class="st">&quot;material_node_groups.blend&quot;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>    )</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>    <span class="cf">with</span> bpy.data.libraries.load(filedir, link<span class="op">=</span><span class="va">False</span>) <span class="im">as</span> (data_from, data_to):</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>        <span class="cf">for</span> nt <span class="kw">in</span> data_from.node_groups:</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>            <span class="cf">if</span> nt <span class="kw">not</span> <span class="kw">in</span> bpy.data.node_groups:</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a>                data_to.node_groups.append(nt)</span></code></pre></div>
</div>
<h2>実際にshaderを追加している部分</h2>
<p>このコードである。そして、読めば字の如くだが、レポジトリにある<code>resources/material_node_groups.blend</code> にある<code>node_groups</code>の中でBlenderに存在していないものがあれば <code>data_to.node_groups.append()</code>して追加している。<br />
結論から言うと<a href="https://docs.blender.org/api/current/bpy.types.BlendData.html?highlight=node_groups#bpy.types.BlendData.node_groups"><code>node_groups</code></a>は nodeで表現されるもの(オブジェクト？)、つまり<code>Shading</code>/<code>Textures</code>/<code>Compositin</code>に関わるものの集合である。 (<a href="https://docs.blender.org/api/current/bpy.types.NodeTree.html#bpy.types.NodeTree">公式doc</a>)<br />
type()によると、<code>bpy.data</code>は<code>bpy.types.BlendData</code>であるので、<code>node_groups</code>は <a href="https://docs.blender.org/api/current/bpy.types.BlendData.html?highlight=node_groups#bpy.types.BlendData.node_groups"><code>bpy.types.BlendData.node_groups</code></a> である。 ここで、なんとなく<code>bpy.data</code>を見てみると<code>bpy.data.node_groups</code>に追加されてることがわかる。</p>
<details>
<summary>`bpy.data.node_groups`までたどり着く道のりメモ(でもよくわからなくて落書き)</summary>
`data_to`は[`bpy.data.libraries.load`](https://docs.blender.org/api/current/bpy.types.BlendDataLibraries.html#bpy.types.BlendDataLibraries.load)から返されている。
`bpy.data`が[`BlendData`](https://docs.blender.org/api/current/bpy.types.BlendData.html)のインスタンスであることから
`bpy.data.libraries.load`は[`BlendDataLibraries.load`](https://docs.blender.org/api/current/bpy.types.BlendDataLibraries.html#bpy.types.BlendDataLibraries.load)である。  

...で、なんとなく`bpy.data`を見る、に戻る
</details>
<p><code>node_groups</code>の中で入力を受け付けてるものなら<code>.inputs</code>にある。 今回でいうと、<code>MToon</code>マテリアルにある<code>NomalmapTexture</code>というtypoを直したいので、 <code>bpy.data.node_groups['MToon_unversioned'].input['NomalmapTexture']</code>を参照する</p>
<h1>今行き詰まっている問題</h1>
<h2>bpy<em>prop</em>collectionに追加できない</h2>
<p>これをtypoが直った<code>bpy.data.node_groups['MToon_unversioned'].input['NormalmapTexture']</code>に変えたいのだけど、 どうやら<code>input['NomalmapTexture']</code>の型である<code>bpy_prop_collection</code>がC実装なようで、普段のpythonのようにはいかない。 具体的にいうと</p>
<div class="ui segment">
<div class="ui top right attached label">
python
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode python SourceCode"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>bpy.data.node_groups[<span class="st">&#39;MToon_unversioned&#39;</span>].<span class="bu">input</span>[<span class="st">&#39;NormalmapTexture&#39;</span>] <span class="op">=</span> bpy.data.node_groups[<span class="st">&#39;MToon_unversioned&#39;</span>].<span class="bu">input</span>[<span class="st">&#39;NomalmapTexture&#39;</span>]</span></code></pre></div>
</div>
<p>では以下のようにエラーを吐かれてうまくいかない。</p>
<div class="ui segment">
<div class="ui top right attached label">
python-repl
</div>
<pre class="python-repl SourceCode"><code>&gt;&gt;&gt; mtonNode = bpy.data.node_groups[&#39;MToon_unversioned&#39;]
&gt;&gt;&gt; mtoonNode.inputs[&#39;NormalmapTexture&#39;] = mtoonNode.inputs[&#39;NomalmapTexture&#39;]
Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in &lt;module&gt;
TypeError: bpy_prop_collection[key]: invalid key, must be a string or an int, not str</code></pre>
</div>
<h3>試したこと</h3>
<p><a href="https://docs.blender.org/api/current/bpy.types.bpy_prop_collection.html?highlight=bpy_prop_collection#bpy.types.bpy_prop_collection"><code>bpy_prop_collection</code></a>のドキュメントと<code>dir(mtoonNode.inputs[0])</code>を読んでみた所、 ドキュメントには書かれていなかったけど<code>move</code>と<code>new</code>があった。</p>
<div class="ui segment">
<div class="ui top right attached label">
python-repl
</div>
<pre class="python-repl SourceCode"><code>&gt;&gt;&gt; dir(mtoonNode.inputs)
[&#39;__bool__&#39;, &#39;__contains__&#39;, &#39;__delattr__&#39;, &#39;__delitem__&#39;, &#39;__doc__&#39;
, &#39;__doc__&#39;, &#39;__getattribute__&#39;, &#39;__getitem__&#39;, &#39;__iter__&#39;, &#39;__len__&#39;
, &#39;__module__&#39;, &#39;__setattr__&#39;, &#39;__setitem__&#39;, &#39;__slots__&#39;, &#39;bl_rna&#39;
, &#39;clear&#39;, &#39;find&#39;, &#39;foreach_get&#39;, &#39;foreach_set&#39;, &#39;get&#39;
, &#39;items&#39;, &#39;keys&#39;, &#39;move&#39;, &#39;new&#39;, &#39;remove&#39;, &#39;rna_type&#39;, &#39;values&#39;]</code></pre>
</div>
<p>それぞれの挙動を試してみたが、どっちもうまく動かず...というか挙動がわからなかった</p>
<h4><code>new()</code></h4>
<details> <summary>Replの結果ですが長いので折りたたみ</summary>
``` python-repl
>>> mtoonNode.inputs
bpy.data...inputs
>>> mtoonNode
bpy.data.node_groups['MToon_unversioned']
>>> mtoonNode.inputs.new
<bpy_func NodeTreeInputs.new()>
>>> mtoonNode.inputs.new()
Traceback (most recent call last):
  File "<console>", line 1, in <module>
TypeError: NodeTreeInputs.new(): required parameter "type" not specified
>>> # mtoonNode.inputs['NomalmapTexture']から値を拝借
>>> mtoonNode.inputs.new('RGBA')
Traceback (most recent call last):
  File "<console>", line 1, in <module>
TypeError: NodeTreeInputs.new(): required parameter "name" not specified
>>> mtoonNode.inputs.new('RGBA', 'NormalmapTexture')
>>> mtoonNode.inputs
bpy.data...inputs
>>> mtoonNode.inputs['NormalmapTexture']
Traceback (most recent call last):
  File "<console>", line 1, in <module>
KeyError: 'bpy_prop_collection[key]: key "NormalmapTexture" not found'
>>> mtoonNode.inputs.items()
[('MainTexture', bpy.data...inputs[0])
, ('MainTextureAlpha', bpy.data...inputs[1])
, ('ShadeTexture', bpy.data...inputs[2])
, ('ReceiveShadow_Texture_alpha', bpy.data...inputs[3])
, ('NomalmapTexture', bpy.data...inputs[4])
, ('ShadingGradeTexture', bpy.data...inputs[5])
, ('Emission_Texture', bpy.data...inputs[6])
, ('SphereAddTexture', bpy.data...inputs[7])
, ('OutlineWidthTexture', bpy.data...inputs[8])
, ('UV_Animation_Mask_Texture', bpy.data...inputs[9])
, ('DiffuseColor', bpy.data...inputs[10])
, ('ShadeColor', bpy.data...inputs[11])
, ('EmissionColor', bpy.data...inputs[12])
, ('OutlineColor', bpy.data...inputs[13])
, ('RimColor', bpy.data...inputs[14])
, ('RimTexture', bpy.data...inputs[15])
, ('RimLightingMix', bpy.data...inputs[16])
, ('RimFresnelPower', bpy.data...inputs[17])
, ('RimLift', bpy.data...inputs[18])
, ('CutoffRate', bpy.data...inputs[19])
, ('BumpScale', bpy.data...inputs[20])
, ('ReceiveShadowRate', bpy.data...inputs[21])
, ('ShadeShift', bpy.data...inputs[22])
, ('ShadeToony', bpy.data...inputs[23])
, ('ShadingGradeRate', bpy.data...inputs[24])
, ('LightColorAttenuation', bpy.data...inputs[25])
, ('IndirectLightIntensity', bpy.data...inputs[26])
, ('OutlineWidth', bpy.data...inputs[27])
, ('OutlineScaleMaxDistance', bpy.data...inputs[28])
, ('OutlineLightingMix', bpy.data...inputs[29])
, ('OutlineWidthMode', bpy.data...inputs[30])
, ('OutlineColorMode', bpy.data...inputs[31])
, ('UV_Scroll_X', bpy.data...inputs[32])
, ('UV_Scroll_Y', bpy.data...inputs[33])
, ('UV_Scroll_Rotation', bpy.data...inputs[34])]
```
</details>
<h4>move()</h4>
<details> <summary> Replの結果。長いため折りたたみ。 </summary>
``` python-repl
>>> mtoonNode.inputs.move()
Traceback (most recent call last):
  File "<console>", line 1, in <module>
TypeError: NodeTreeInputs.move(): required parameter "from_index" not specified
>>> mtoonNode.inputs.move(4)
Traceback (most recent call last):
  File "<console>", line 1, in <module>
TypeError: NodeTreeInputs.move(): required parameter "to_index" not specified
>>> mtoonNode.inputs.move(4, 35)
>>> mtoonNode.inputs.items()
[('MainTexture', bpy.data...inputs[0]), ('MainTextureAlpha', bpy.data...inputs[1])
, ('ShadeTexture', bpy.data...inputs[2])
, ('ReceiveShadow_Texture_alpha', bpy.data...inputs[3])
, ('NomalmapTexture', bpy.data...inputs[4])
, ('ShadingGradeTexture', bpy.data...inputs[5])
, ('Emission_Texture', bpy.data...inputs[6])
, ('SphereAddTexture', bpy.data...inputs[7])
, ('OutlineWidthTexture', bpy.data...inputs[8])
, ('UV_Animation_Mask_Texture', bpy.data...inputs[9])
, ('DiffuseColor', bpy.data...inputs[10])
, ('ShadeColor', bpy.data...inputs[11])
, ('EmissionColor', bpy.data...inputs[12])
, ('OutlineColor', bpy.data...inputs[13])
, ('RimColor', bpy.data...inputs[14])
, ('RimTexture', bpy.data...inputs[15])
, ('RimLightingMix', bpy.data...inputs[16])
, ('RimFresnelPower', bpy.data...inputs[17])
, ('RimLift', bpy.data...inputs[18])
, ('CutoffRate', bpy.data...inputs[19])
, ('BumpScale', bpy.data...inputs[20])
, ('ReceiveShadowRate', bpy.data...inputs[21])
, ('ShadeShift', bpy.data...inputs[22])
, ('ShadeToony', bpy.data...inputs[23])
, ('ShadingGradeRate', bpy.data...inputs[24])
, ('LightColorAttenuation', bpy.data...inputs[25])
, ('IndirectLightIntensity', bpy.data...inputs[26])
, ('OutlineWidth', bpy.data...inputs[27])
, ('OutlineScaleMaxDistance', bpy.data...inputs[28])
, ('OutlineLightingMix', bpy.data...inputs[29])
, ('OutlineWidthMode', bpy.data...inputs[30])
, ('OutlineColorMode', bpy.data...inputs[31])
, ('UV_Scroll_X', bpy.data...inputs[32])
, ('UV_Scroll_Y', bpy.data...inputs[33])
, ('UV_Scroll_Rotation', bpy.data...inputs[34])]
>>> mtoonNode.inputs.values()
[bpy.data...inputs[0]
, bpy.data...inputs[1], bpy.data...inputs[2]
, bpy.data...inputs[3], bpy.data...inputs[4]
, bpy.data...inputs[5], bpy.data...inputs[6]
, bpy.data...inputs[7], bpy.data...inputs[8]
, bpy.data...inputs[9], bpy.data...inputs[10]
, bpy.data...inputs[11], bpy.data...inputs[12]
, bpy.data...inputs[13], bpy.data...inputs[14]
, bpy.data...inputs[15], bpy.data...inputs[16]
, bpy.data...inputs[17], bpy.data...inputs[18]
, bpy.data...inputs[19], bpy.data...inputs[20]
, bpy.data...inputs[21], bpy.data...inputs[22]
, bpy.data...inputs[23], bpy.data...inputs[24]
, bpy.data...inputs[25], bpy.data...inputs[26]
, bpy.data...inputs[27], bpy.data...inputs[28]
, bpy.data...inputs[29], bpy.data...inputs[30]
, bpy.data...inputs[31], bpy.data...inputs[32]
, bpy.data...inputs[33], bpy.data...inputs[34]]
>>> bpy.data...inputs[1]
  File "<console>", line 1
    bpy.data...inputs[1]
              ^
SyntaxError: invalid syntax
>>>
```
</details>
]]></summary>
</entry>
<entry>
    <title>ぶいちゅーばーってすごいよね〜って話</title>
    <link href="https://cj-bc.github.io/blog/posts/2021-01-11-streamers-are-sooooooooooo-sugoi.html" />
    <id>https://cj-bc.github.io/blog/posts/2021-01-11-streamers-are-sooooooooooo-sugoi.html</id>
    <published>2021-01-10T00:00:00Z</published>
    <updated>2021-01-10T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>ぶいちゅーばーってすごいよね〜って話</h1>
  <div class="ui list">
    <div class="item">Posted on January 10, 2021</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on January 11, 2021
    </div>
  </div>
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;blog&#39;." href="/tags/blog.html" class="ui tag label">blog</a>
  
</div>

<p>いやラフに書きたくなっただけで特に意味はない。 勢いに任せているのでまぁ適当だけどまぁ。うん。</p>
<p>尚若干影響を与えてないわけでもないイベントに<a href="http://mamo.sakura.ne.jp/19bright/">19の煌き</a>があるので宣伝をしておきます。</p>
<blockquote class="twitter-tweet">
  <p lang="ja" dir="ltr">19の煌き2、HappyVirtualRoom2、DigitalFairyTaleの告知イラストが完成しました！　素敵なみなさんが大集合！<br>
  イラストはbk様（<a href="https://twitter.com/StampedeM2?ref_src=twsrc%5Etfw">@StampedeM2</a>）<br>サークル参加は12/27まで受付中です！<a href="https://t.co/l0wUV3KDpL">https://t.co/l0wUV3KDpL</a> <a href="https://t.co/y0smq9PZnc">pic.twitter.com/y0smq9PZnc</a></p>&mdash; 『19の煌き』運営 (@61light1) <a href="https://twitter.com/61light1/status/1342047369446055937?ref_src=twsrc%5Etfw">December 24, 2020</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>尚推しの一人である<a href="https://dic.pixiv.net/a/%E6%83%B3%E9%96%93%E3%83%9F%E3%83%AC%E3%82%A4">想間ミレイ</a>ちゃんのサークルも是非に。</p>
<blockquote class="twitter-tweet" data-conversation="none"><p lang="ja" dir="ltr">ｶﾞﾝﾊﾞﾘﾏｼﾀ <a href="https://t.co/shZvFIFMaY">pic.twitter.com/shZvFIFMaY</a></p>&mdash; 想間ミレイ@ゼロから始めるVTuber (@zerovabi) <a href="https://twitter.com/zerovabi/status/1348244692354232323?ref_src=twsrc%5Etfw">January 10, 2021</a></blockquote>
<hr />
<p>はい。</p>
<p>そもそもVirtualでなくとも配信者ってすごいと思う。まずはそこから</p>
<h1>配信者のどこがすごいのか</h1>
<h2>1. 配信の内容がある</h2>
<p>いやマジで全てはこれ。特に雑談枠と企画枠の二つ。 私からしたらなぜあんなにも面白い話ができるのか微塵たりともわからない。<br />
雑談ってお前、雑な談話やぞ？？って思われるかもしれないけど、 雑な談話の方が難しくないですか？？？テーマ決まってたほうが話しやすい。<br />
主がコミュ障なだけやろ？？と言われるとそれはそうで何も言えないんですが。<br />
これは配信者の適性というか、そもそもコミュニケーションの適性みたいなところでは あるけれどすごいなって毎回思っています。</p>
<h2>2. 雑談が謎に面白い</h2>
<p>内容が、というのもありますが「別段めっちゃ面白いトピックじゃないのに なぜかめちゃくちゃ聞いてて面白い」っていう事例が割とある気がしています。<br />
具体例とか言われると思い出せないんですが、まぁ逆にいうとそのくらいどうでもいいような 内容でも面白いというか。</p>
<h2>3. なんか知らんけどゲームしながら話ができる</h2>
<p>これはゲーム配信する人(VTuber見てるので多いがち)に限った話なんですけど、ゲームしながら話してるのすごいと思う。</p>
<h2>4. 時間が取れる</h2>
<p>配信時間ってよく確保できますね？？？</p>
<h2>5. 積極的に宣伝できる</h2>
<p>これ地味にすごく大事で、かつすごくすごいなって思うことの一つ。<br />
わりかし配信に自信がないと宣伝って難しいと思うんですよ。 でも、宣伝しないと人ってこないんですよ。結果的に自信もつかないんですよ。</p>
<p>まぁ~~主がコミュ障だからってのは言わないで~~</p>
<h2>6. 声出せる環境がある</h2>
<p>これはすごいというより羨ましいの部分なのかもしれない。 私は家の都合とか立地とかの問題であまり声が出せない。 小声でやってるけど音漏れしないかビクビクしています。ぴぇん。</p>
<p>まぁここまで些細なことはどうでも良いとしても、「大きな声を出せる」 っていうの自体でもすごいなと。声を出すのって勇気入りません？~~え？？コミュs~~</p>
<h2>7. 反応が良い(かわいいor面白い)</h2>
<p>雑談やゲームで何かが起こったときの反応が良い。まぁこれは多分配信者だけじゃなく芸能人とかもそうだとは思う。 なんでなんだろうね？？？？</p>
<h1>VTuberのどこがすごいのか</h1>
<p>じゃあここからは少し具体的に「VTuber特有のすごさ」をつらつら書きたいと思う</p>
<h2>1. 配信ができる(技術)</h2>
<p>まずこれがすごい。自分でやってみればわかるけど割と面倒。 結構Virtualゆえ+私の特殊事情があるのかもしれないけど、それでもすごいと思う。</p>
<p>特にボイチェン勢つょい。まぁまず声が可愛いのは置いておくとして、反応も可愛いのは置いておくとして、 とりあえず技術面だけを考えても結構すごい。<br />
みんなの環境がわからないけれど、私はmacなのもあり結構大変な思いをしている (ボイチェンはwindowsオンリーが多いんじゃ〜〜)</p>
<p>ちなみに私の音のルーティングは 物理マイク→ボイチェン→GarageBand(ノイズ除去とか)→OBSという流れなのだけど、 仮想オーディオIFの組み方とか面倒なんですよね。多分macなのも悪い。 後これだとイヤホンから聞けなかったりして、それを対応したらBGM聞こえなくなって、... ウオォやる気がﾋﾟﾝﾁ！！</p>
<h2>2. パソコンのスペック</h2>
<p>これは人によりけりだけど、私の環境だとlive2dも3Dモデルもなしでも あまり画質が出ない。その上なんかぱちょから音がなっておる...<br />
Live2Dでも綺麗に動いてる人が少ないのからして、きちんと写ってる人のスペックやばそうだなぁという気持ち。</p>
<h2>3. ママパパ探し</h2>
<p>念のため書いておくと、ママは元イラストを描いてくれた人、 パパはlive2Dや3Dモデルを作成してくれた人のことを指す用語です。</p>
<p>いやまぁ依頼募集してる人に依頼すればいいというのはそうなのだけども、 行動力。よ。行動力。</p>
]]></summary>
</entry>
<entry>
    <title>ブログの見た目を整える</title>
    <link href="https://cj-bc.github.io/blog/posts/2021-01-03-fomantic-ui.html" />
    <id>https://cj-bc.github.io/blog/posts/2021-01-03-fomantic-ui.html</id>
    <published>2021-01-03T00:00:00Z</published>
    <updated>2021-01-03T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>ブログの見た目を整える</h1>
  <div class="ui list">
    <div class="item">Posted on January  3, 2021</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on January  5, 2021
    </div>
  </div>
    
        by Cj-bc
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;hakyll&#39;." href="/tags/hakyll.html" class="ui tag label">hakyll</a><a title="All pages tagged &#39;ブログ&#39;." href="/tags/%E3%83%96%E3%83%AD%E3%82%B0.html" class="ui tag label">ブログ</a><a title="All pages tagged &#39;haskell&#39;." href="/tags/haskell.html" class="ui tag label">haskell</a>
  
</div>

<h1>コードブロックの整形</h1>
<p>今まで、コードブロックは酷い見た目でした。 <img src="/images/old-codeblock.png" class="ui rounded image" alt="前までのコードブロック" /></p>
<p>現在は以下のように表示されるようになりました！</p>
<div class="ui segment">
<div class="ui top right attached label">
haskell
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell SourceCode"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>main <span class="ot">=</span> <span class="kw">do</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>    <span class="fu">putStrLn</span> <span class="st">&quot;Hello world!&quot;</span></span></code></pre></div>
</div>
<h2>やったこと</h2>
<p>ここでは、以下のFomantic-UI要素を使用しました。</p>
<ul>
<li>Segment</li>
<li>Attached label</li>
</ul>
<p>又、各コードブロックに同じ処理をするために、Hakyllの<code>pandocCompilerWithTransform</code>を使用しています。 syntaxhilightは<a href="https://stackoverflow.com/a/43699538"><code>Hakyll</code>に合わせて</a><code>Highlight.js</code>を使用しています。</p>
<h3>最終的なHTML</h3>
<div class="ui segment">
<div class="ui top right attached label">
html
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode html SourceCode"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;ui segment&quot;</span><span class="kw">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;ui top right attached label&quot;</span><span class="kw">&gt;</span> haskell <span class="kw">&lt;/div&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;sourceCode&quot;</span><span class="ot"> id=</span><span class="st">&quot;cb1&quot;</span><span class="kw">&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>        <span class="kw">&lt;pre</span><span class="ot"> class=</span><span class="st">&quot;sourceCode haskell SourceCode&quot;</span><span class="kw">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>            <span class="kw">&lt;code</span><span class="ot"> class=</span><span class="st">&quot;sourceCode haskell hljs bash&quot;</span><span class="kw">&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>                <span class="kw">&lt;span</span><span class="ot"> id=</span><span class="st">&quot;cb1-1&quot;</span><span class="kw">&gt;&lt;a</span><span class="ot"> href=</span><span class="st">&quot;#cb1-1&quot;</span><span class="ot"> aria-hidden=</span><span class="st">&quot;true&quot;</span><span class="kw">&gt;&lt;/a&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>                    main</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;ot&quot;</span><span class="kw">&gt;</span>=<span class="kw">&lt;/span&gt;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a>                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;kw&quot;</span><span class="kw">&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;hljs-keyword&quot;</span><span class="kw">&gt;</span>do<span class="kw">&lt;/span&gt;&lt;/span&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a>                <span class="kw">&lt;/span&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a>                <span class="kw">&lt;span</span><span class="ot"> id=</span><span class="st">&quot;cb1-2&quot;</span><span class="kw">&gt;&lt;a</span><span class="ot"> href=</span><span class="st">&quot;#cb1-2&quot;</span><span class="ot"> aria-hidden=</span><span class="st">&quot;true&quot;</span><span class="kw">&gt;&lt;/a&gt;</span>    </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a>                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;fu&quot;</span><span class="kw">&gt;</span>putStrLn<span class="kw">&lt;/span&gt;</span> </span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a>                    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;st&quot;</span><span class="kw">&gt;&lt;span</span><span class="ot"> class=</span><span class="st">&quot;hljs-string&quot;</span><span class="kw">&gt;</span>&quot;Hello world!&quot;<span class="kw">&lt;/span&gt;&lt;/span&gt;</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a>                <span class="kw">&lt;/span&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a>            <span class="kw">&lt;/code&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a>        <span class="kw">&lt;/pre&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a>    <span class="kw">&lt;/div&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a><span class="kw">&lt;/div&gt;</span></span></code></pre></div>
</div>
<h3><code>pandocCompilerWithTransform</code>を使用した処理</h3>
<p><code>pandocCompilerWithTransform</code>は<code>pandocCompiler</code>の一種で、Markdownなどを<code>Pandoc</code>型に変換しその値をいじることができます。 <code>Pandoc</code>型には便利な型クラス<code>Walkable</code>があるので、これを使用します。</p>
<p><code>Walkable</code>とは、「値の中を歩き、各子要素を与えられた関数に適用して置き換える」ような処理をします。</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
WIP</li>
</ul>
<h3>右上に拡張子を表示する</h3>
<p>右上に拡張子を表示するために使われているのが、<a href="https://fomantic-ui.com/elements/label.html#attached">attached label</a>です。 注意する点として、これは「コードブロックとは別の<code>div</code>として使用する」必要があります。</p>
<h3>親<code>Div</code>に<code>segment</code>を設定する</h3>
<p><code>code</code>ブロックの親の<code>Div</code>に、<code>class="ui segment"</code>を設定してください。 (他の要素はあっても大丈夫だと思いますが、とにかく<a href="https://fomantic-ui.com/elements/segment.html">segment</a>が必要です。)<br />
尚、きちんと調べているわけではないので、他のものでも代用できるのかもしれません。</p>
<p><img src="/images/attached-label-wraped-in-segment.png" class="ui rounded image" alt="segmentがある場合" /> <em>(赤丸は注釈)</em></p>
<p>これをしない場合、ひとまわり上の<code>segment</code>、どこにもない場合webページの右上にこのラベルが表示されることになります。</p>
<p><img src="/images/attached-label-not-wraped-in-segment.png" class="ui rounded image" alt="segmentがない場合" /> <em>(赤丸は注釈)</em></p>
<h3>テキストの折り返し</h3>
<p>これはシンプルにCSSの<code>overflow:auto</code>を使っています。</p>
<h1>画像の整形</h1>
<p>これまでは画像が正しいサイズになっておらず、このようになっていました。</p>
<p><img src="/images/old-image-view.png" class="ui rounded image" alt="昔の画像表示" /></p>
<p>現在は、この画像のようになっています。</p>
<p><img src="/images/current-image.view.png" class="ui rounded image" alt="今の画像表示" /></p>
<h2><code>ui image</code></h2>
<p><code>ui image</code>を使うことで、親のSegment以内に納めてくれます。<br />
又それにプラスして<code>rounded</code>をつけることで角を丸めています。 (最終的には<code>ui rounded image</code>となりました)</p>
<h1>メニューの作成</h1>
<p>画面上部にあるメニューを作成しました。 これは主に<code>ui menu</code>を使っています。 それに追加して、viewportの上部に固定するために<code>fixed</code>を、色を反転させるために<code>inverted</code>をつけています。</p>
<h2>コンテンツの内容がかぶらないようにする</h2>
<p><code>fixed</code>を使った場合、そのままでは下のdiv(このサイトではidとして<code>content</code>を持つdiv)の内容に被ってしまいます。</p>
<p><img src="/images/fixed-menu-without-margin.png" class="ui rounded image" alt="何も対処しない場合" /></p>
<p>そこで、<code>content</code> divに<code>margin-top: 5em</code>を適用しています。<br />
尚これは、同じ構成をしていた<a href="https://fomantic-ui.com/collections/menu.html">Fomantic-UIのモバイルページ</a>での設定値をそのまま持ってきています。 (モバイル端末で見るか、ブラウザの横幅を狭めれば見えると思います)</p>
<div class="ui segment">
<div class="ui top right attached label">
css
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode css SourceCode"><code class="sourceCode css"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="pp">#content</span> {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>    <span class="kw">margin-top</span>: <span class="dv">5</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>}</span></code></pre></div>
</div>
<h2>Feedのリンクを右づめにする</h2>
<p><code>menu</code>の中にある<code>item</code>に、<code>right</code>と入れるだけでそこから下の<code>item</code>全てが右詰になります。 このサイトだと以下のようになっています。</p>
<div class="ui segment">
<div class="ui top right attached label">
html
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode html SourceCode"><code class="sourceCode html"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;header&quot;</span><span class="ot"> class=</span><span class="st">&quot;ui fixed inverted menu&quot;</span><span class="kw">&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>    <span class="co">&lt;!-- 省略 --&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>    <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/feeds/atom/general.xml&quot;</span><span class="ot"> class=</span><span class="st">&quot;right item&quot;</span><span class="kw">&gt;</span>Atom feed<span class="kw">&lt;/a&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>    <span class="kw">&lt;a</span><span class="ot"> href=</span><span class="st">&quot;/feeds/rss/general.xml&quot;</span><span class="ot"> class=</span><span class="st">&quot;item&quot;</span><span class="kw">&gt;&lt;i</span><span class="ot"> class=</span><span class="st">&quot;rss icon&quot;</span><span class="kw">&gt;&lt;/i&gt;&lt;/a&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a><span class="kw">&lt;/div&gt;</span></span></code></pre></div>
</div>
]]></summary>
</entry>
<entry>
    <title>pandocのBlock</title>
    <link href="https://cj-bc.github.io/blog/posts/2020-11-16-pandoc-orderedlist-attr-view.html" />
    <id>https://cj-bc.github.io/blog/posts/2020-11-16-pandoc-orderedlist-attr-view.html</id>
    <published>2020-11-16T00:00:00Z</published>
    <updated>2020-11-16T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>pandocのBlock</h1>
  <div class="ui list">
    <div class="item">Posted on November 16, 2020</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on November 17, 2020
    </div>
  </div>
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;pandoc&#39;." href="/tags/pandoc.html" class="ui tag label">pandoc</a><a title="All pages tagged &#39;haskell&#39;." href="/tags/haskell.html" class="ui tag label">haskell</a>
  
</div>

<p><a href="https://hackage.haskell.org/package/pandoc-types-1.22/docs/Text-Pandoc-Definition.html#t:Block">hackage</a>と<a href="https://pandoc.org/MANUAL.html">pandoc manual</a> を見てもよくわからないので、markdownに変換して試してみた。</p>
<h1>OrderedList</h1>
<h2>ListNumberStyle</h2>
<p><a href="https://hackage.haskell.org/package/pandoc-types-1.22/docs/Text-Pandoc-Definition.html#t:ListNumberStyle">ListNumberStyle</a>は、 数字表現(1,2,3なのかi,ii,iiiなのかなど)を決めるもの。 わかりやすいように他の内容は一致させています。</p>
<div class="ui segment">
<div class="ui top right attached label">
haskell
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell SourceCode"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>[<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">DefaultStyle</span>,<span class="dt">TwoParens</span>) [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>,<span class="dt">OrderedList</span> (<span class="dv">1</span>, <span class="dt">Example</span>,<span class="dt">TwoParens</span>)     [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>,<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">Decimal</span>,<span class="dt">TwoParens</span>)      [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>,<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">LowerRoman</span>,<span class="dt">TwoParens</span>)   [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>,<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">UpperRoman</span>,<span class="dt">TwoParens</span>)   [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a>,<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">LowerAlpha</span>,<span class="dt">TwoParens</span>)   [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a>,<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">UpperAlpha</span>,<span class="dt">TwoParens</span>)   [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a>]</span></code></pre></div>
</div>
<p>これをvimで開き、<code>%!pandoc -f native -t markdown</code>で試した。これ便利なのでおすすめ。 その結果が以下:</p>
<div class="ui segment">
<div class="ui top right attached label">
markdown
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode markdown result SourceCode"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>(1) hoge</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>(2) foo</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>(1) hoge</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>(2) foo</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>(1) hoge</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>(2) foo</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a>(i) hoge</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a>(ii) foo</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a>(I) hoge</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a>(II) foo</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a>(a) hoge</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a>(b) foo</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a>(A) hoge</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true"></a>(B) foo</span></code></pre></div>
</div>
<p><code>Default</code>/<code>Example</code>はどうやらDecimalになってしまう模様。あとは大体名前の通りになった。</p>
<h2>ListNumberDelim</h2>
<p><a href="https://hackage.haskell.org/package/pandoc-types-1.22/docs/Text-Pandoc-Definition.html#t:ListNumberDelim">ListNumberDelim</a> は、数字の後につくやつ。<br />
コードは基本先ほどと同じものを使用</p>
<div class="ui segment">
<div class="ui top right attached label">
haskell
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell SourceCode"><code class="sourceCode haskell"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>[<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">DefaultStyle</span>,<span class="dt">DefaultDelim</span>) [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>,<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">DefaultStyle</span>,<span class="dt">Period</span>)       [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>,<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">DefaultStyle</span>,<span class="dt">OneParen</span>)     [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a>,<span class="dt">OrderedList</span> (<span class="dv">1</span>,<span class="dt">DefaultStyle</span>,<span class="dt">TwoParens</span>)    [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;hoge&quot;</span>]],[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;foo&quot;</span>]]]</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a>]</span></code></pre></div>
</div>
<p>結果が以下。</p>
<div class="ui segment">
<div class="ui top right attached label">
markdown
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode markdown result SourceCode"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="ss">1.  </span>hoge</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="ss">2.  </span>foo</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="ss">1.  </span>hoge</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a><span class="ss">2.  </span>foo</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a>1)  hoge</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a>2)  foo</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>(1) hoge</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a>(2) foo</span></code></pre></div>
</div>
<h1>DefinitionList</h1>
<p><a href="">DefinitionList</a></p>
<div class="ui segment">
<div class="ui top right attached label">
haskell
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell SourceCode"><code class="sourceCode haskell"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a>[<span class="dt">DefinitionList</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a> [([<span class="dt">Str</span> <span class="st">&quot;term&quot;</span>],</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>   [[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;One&quot;</span>,<span class="dt">Space</span>,<span class="dt">Str</span> <span class="st">&quot;definition&quot;</span>,<span class="dt">Space</span>,<span class="dt">Str</span> <span class="st">&quot;here&quot;</span>]]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>   ,[<span class="dt">Plain</span> [<span class="dt">Str</span> <span class="st">&quot;Second?&quot;</span>,<span class="dt">SoftBreak</span>,<span class="dt">Str</span> <span class="st">&quot;:&quot;</span>], <span class="dt">Plain</span> [<span class="dt">Str</span><span class="st">&quot;Second&quot;</span>, <span class="dt">Space</span>,<span class="dt">Str</span> <span class="st">&quot;line&quot;</span>,<span class="dt">Space</span>,<span class="dt">Str</span> <span class="st">&quot;of&quot;</span>,<span class="dt">Space</span>, <span class="dt">Str</span> <span class="st">&quot;definition&quot;</span>]]</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>   ]</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a> )]</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a>]</span></code></pre></div>
</div>
<div class="ui segment">
<div class="ui top right attached label">
markdown
</div>
<div class="sourceCode" id="cb6"><pre class="sourceCode markdown SourceCode"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>term</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>:   One definition here</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a>:   Second? :</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a>:   Maybe second, maybe third</span></code></pre></div>
</div>
]]></summary>
</entry>
<entry>
    <title>vim-pandoc-syntaxでurlを非表示にしたい</title>
    <link href="https://cj-bc.github.io/blog/posts/2020-11-13-pandoc-vim-conceal-url-by-default.html" />
    <id>https://cj-bc.github.io/blog/posts/2020-11-13-pandoc-vim-conceal-url-by-default.html</id>
    <published>2020-11-13T00:00:00Z</published>
    <updated>2020-11-13T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>vim-pandoc-syntaxでurlを非表示にしたい</h1>
  <div class="ui list">
    <div class="item">Posted on November 13, 2020</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on November 13, 2020
    </div>
  </div>
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;vim&#39;." href="/tags/vim.html" class="ui tag label">vim</a><a title="All pages tagged &#39;pandoc&#39;." href="/tags/pandoc.html" class="ui tag label">pandoc</a>
  
</div>

<h1>vimwikiのハイライトが欲しい</h1>
<h1>markdown/vimwiki/pandocのsyntaxハイライト</h1>
<p>vimwikiのsyntaxでは、以下のようなリンクは</p>
<div class="ui segment">
<div class="ui top right attached label">
markdown
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode markdown SourceCode"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="co">[</span><span class="ot">説明</span><span class="co">](url)</span></span></code></pre></div>
</div>
<p>このように表示されます(<code>+conceal</code>オプションが有効な場合)</p>
<p><a href="url">説明</a></p>
<p>これがあると、長いURLを持つドキュメントでの可読性がグンと上がります</p>
<p>例えば、<a href="https://cj-bc.github.io/blog/posts/2020-08-19-blender-data-blocks.html">blender data blocks</a>の記事は<code>markdown</code>/<code>vimwiki</code>/<code>pandoc</code>それぞれのsyntaxで 以下のように見えます。</p>
<p><img src="/images/difference_md-vimwiki-pandoc.png" class="ui rounded image" alt="markdown, vimwiki, pandocのハイライトの違い" /></p>
<p>さて、これを普段使いの<code>pandoc</code>syntaxでも使いたいというのが今回の希望です。</p>
<h1>結論: デフォルトの変数を設定しろ</h1>
<p>もうこれが答えでした！<br />
ドキュメントよもうね！！！！</p>
<div class="ui segment">
<div class="ui top right attached label">
vim
</div>
<pre class="vim SourceCode"><code>let g:pandoc#syntax#conceal#urls = 1</code></pre>
</div>
<p>これだけでURLの<code>conceal</code>が有効になり、vimwikiと同じような見た目になります</p>
<p><img src="/images/pandoc-with-conceal.png" class="ui rounded image" alt="設定後のpandoc" /></p>
<h1>おまけ</h1>
<p>ちなみに該当のコードは<a href="https://github.com/vim-pandoc/vim-pandoc-syntax/blob/2521e2e9b99a3550e1a20f24e09fa46679cbbbc7/syntax/pandoc.vim#L300-L304">300-304行目</a>にありました。</p>
<div class="ui segment">
<div class="ui top right attached label">
vim
</div>
<pre class="vim SourceCode"><code>if g:pandoc#syntax#conceal#urls == 1
    syn region pandocReferenceURL matchgroup=pandocOperator start=/\]\@1&lt;=(/ end=/)/ keepend conceal
else
    syn region pandocReferenceURL matchgroup=pandocOperator start=/\]\@1&lt;=(/ end=/)/ keepend
endif</code></pre>
</div>
]]></summary>
</entry>
<entry>
    <title>pythonのelifはifよりも速いのか</title>
    <link href="https://cj-bc.github.io/blog/posts/2020-11-07-python-is-elif-faster-than-ifs.html" />
    <id>https://cj-bc.github.io/blog/posts/2020-11-07-python-is-elif-faster-than-ifs.html</id>
    <published>2020-11-07T00:00:00Z</published>
    <updated>2020-11-07T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>pythonのelifはifよりも速いのか</h1>
  <div class="ui list">
    <div class="item">Posted on November  7, 2020</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on November  7, 2020
    </div>
  </div>
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;python&#39;." href="/tags/python.html" class="ui tag label">python</a><a title="All pages tagged &#39;検証&#39;." href="/tags/%E6%A4%9C%E8%A8%BC.html" class="ui tag label">検証</a>
  
</div>

<p>一つの変数に対して、複数の条件で分岐させたい時時、大抵は<code>elif</code>を使って以下のように書くと思います。</p>
<div class="ui segment">
<div class="ui top right attached label">
python
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode python SourceCode"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="cf">if</span> n <span class="op">==</span> <span class="st">&quot;A&quot;</span>:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>    ...</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="cf">elif</span> n <span class="op">==</span> <span class="st">&quot;B&quot;</span>:</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>    ...</span></code></pre></div>
</div>
<p>しかし、全ての場合ではありませんがこの場合はif文の羅列で書くこともできます。</p>
<div class="ui segment">
<div class="ui top right attached label">
python
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode python SourceCode"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="cf">if</span> n <span class="op">==</span> <span class="st">&quot;A&quot;</span>:</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>    ...</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="cf">if</span> n <span class="op">==</span> <span class="st">&quot;B&quot;</span>:</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>    ...</span></code></pre></div>
</div>
<p>直感的に、nの値によってはelifの方がif文の実行回数が少なくなるため速そうに思えますが、本当にそうなのか気になったので試してみます。</p>
<h1>tl;dr</h1>
<p>速いぽい</p>
<h1>条件</h1>
<p>pythonは3.7.4、if文の中身が同じものだと最適化がかかったりしないか怖かったのでそれぞれ違う出力をするprint文を入れます。 elifの数は適当に多めにしておきました。 また、1000回実行した平均の速度を表示するようにしました。</p>
<h1>測定に使ったコード</h1>
<p>長いので</p>
<details><summary>測定コード</summary>
```
import time

a = 100

# without elif {{{
def f_without_elif():
    if a < 10:
        print("10")
    if 10 <= a < 20:
        print("20")
    if 20 <= a < 30:
        print("30")
    if 30 <= a < 40:
        print("40")
    if 40 <= a < 50:
        print("50")
    if 50 <= a < 60:
        print("60")
    if 60 <= a < 70:
        print("70")
    if 70 <= a < 80:
        print("80")
    if 80 <= a < 90:
        print("90")
    if 90 <= a < 100:
        print("100")
    if 100 <= a < 110:
        print("110")
    if 110 <= a < 120:
        print("120")
    if 120 <= a < 130:
        print("130")
    if 130 <= a < 140:
        print("140")
    if 140 <= a < 150:
        print("150")
    if 150 <= a < 160:
        print("160")
    if 160 <= a < 170:
        print("170")
    if 170 <= a < 180:
        print("180")
    if 180 <= a < 190:
        print("190")
    if 190 <= a < 200:
        print("200")
    if 200 <= a < 210:
        print("210")
    if 210 <= a < 220:
        print("220")
    if 220 <= a < 230:
        print("230")
    if 230 <= a < 240:
        print("240")
    if 240 <= a < 250:
        print("250")
    if 250 <= a < 260:
        print("260")
    if 260 <= a < 270:
        print("270")
    if 270 <= a < 280:
        print("280")
    if 280 <= a < 290:
        print("290")
    if 290 <= a < 300:
        print("300")
    if 300 <= a < 310:
        print("310")
    if 310 <= a < 320:
        print("320")
    if 320 <= a < 330:
        print("330")
    if 330 <= a < 340:
        print("340")
    if 340 <= a < 350:
        print("350")
    if 350 <= a < 360:
        print("360")
    if 360 <= a < 370:
        print("370")
    if 370 <= a < 380:
        print("380")
    if 380 <= a < 390:
        print("390")
    if 390 <= a < 400:
        print("400")
    if 400 <= a < 410:
        print("410")
    if 410 <= a < 420:
        print("420")
    if 420 <= a < 430:
        print("430")
    if 430 <= a < 440:
        print("440")
    if 440 <= a < 450:
        print("450")
    if 450 <= a < 460:
        print("460")
    if 460 <= a < 470:
        print("470")
    if 470 <= a < 480:
        print("480")
    if 480 <= a < 490:
        print("490")
    if 490 <= a < 500:
        print("500")
    if 500 <= a < 510:
        print("510")
    if 510 <= a < 520:
        print("520")
    if 520 <= a < 530:
        print("530")
    if 530 <= a < 540:
        print("540")
    if 540 <= a < 550:
        print("550")
    if 550 <= a < 560:
        print("560")
    if 560 <= a < 570:
        print("570")
    if 570 <= a < 580:
        print("580")
    if 580 <= a < 590:
        print("590")
    if 590 <= a < 600:
        print("600")
    if 600 <= a < 610:
        print("610")
    if 610 <= a < 620:
        print("620")
    if 620 <= a < 630:
        print("630")
    if 630 <= a < 640:
        print("640")
    if 640 <= a < 650:
        print("650")
    if 650 <= a < 660:
        print("660")
    if 660 <= a < 670:
        print("670")
    if 670 <= a < 680:
        print("680")
    if 680 <= a < 690:
        print("690")
    if 690 <= a < 700:
        print("700")
    if 700 <= a < 710:
        print("710")
    if 710 <= a < 720:
        print("720")
    if 720 <= a < 730:
        print("730")
    if 730 <= a < 740:
        print("740")
    if 740 <= a < 750:
        print("750")
    if 750 <= a < 760:
        print("760")
    if 760 <= a < 770:
        print("770")
    if 770 <= a < 780:
        print("780")
    if 780 <= a < 790:
        print("790")
    if 790 <= a < 800:
        print("800")
    if 800 <= a < 810:
        print("810")
    if 810 <= a < 820:
        print("820")
    if 820 <= a < 830:
        print("830")
    if 830 <= a < 840:
        print("840")
    if 840 <= a < 850:
        print("850")
    if 850 <= a < 860:
        print("860")
    if 860 <= a < 870:
        print("870")
    if 870 <= a < 880:
        print("880")
    if 880 <= a < 890:
        print("890")
    if 890 <= a < 900:
        print("900")
    if 900 <= a < 910:
        print("910")
    if 910 <= a < 920:
        print("920")
    if 920 <= a < 930:
        print("930")
    if 930 <= a < 940:
        print("940")
    if 940 <= a < 950:
        print("950")
    if 950 <= a < 960:
        print("960")
    if 960 <= a < 970:
        print("970")
    if 970 <= a < 980:
        print("980")
    if 980 <= a < 990:
        print("990")
    if 990 <= a < 1000:
        print("1000")
    if 1000 <= a < 1010:
        print("1010")
    if 1010 <= a < 1020:
        print("1020")
    if 1020 <= a < 1030:
        print("1030")
    if 1030 <= a < 1040:
        print("1040")
    if 1040 <= a < 1050:
        print("1050")
    if 1050 <= a < 1060:
        print("1060")
    if 1060 <= a < 1070:
        print("1070")
# }}}


# with elif {{{
def f_with_elif():
    if a < 10:
        print("10")
    elif 10 <= a < 20:
        print("20")
    elif 20 <= a < 30:
        print("30")
    elif 30 <= a < 40:
        print("40")
    elif 40 <= a < 50:
        print("50")
    elif 50 <= a < 60:
        print("60")
    elif 60 <= a < 70:
        print("70")
    elif 70 <= a < 80:
        print("80")
    elif 80 <= a < 90:
        print("90")
    elif 90 <= a < 100:
        print("100")
    elif 100 <= a < 110:
        print("110")
    elif 110 <= a < 120:
        print("120")
    elif 120 <= a < 130:
        print("130")
    elif 130 <= a < 140:
        print("140")
    elif 140 <= a < 150:
        print("150")
    elif 150 <= a < 160:
        print("160")
    elif 160 <= a < 170:
        print("170")
    elif 170 <= a < 180:
        print("180")
    elif 180 <= a < 190:
        print("190")
    elif 190 <= a < 200:
        print("200")
    elif 200 <= a < 210:
        print("210")
    elif 210 <= a < 220:
        print("220")
    elif 220 <= a < 230:
        print("230")
    elif 230 <= a < 240:
        print("240")
    elif 240 <= a < 250:
        print("250")
    elif 250 <= a < 260:
        print("260")
    elif 260 <= a < 270:
        print("270")
    elif 270 <= a < 280:
        print("280")
    elif 280 <= a < 290:
        print("290")
    elif 290 <= a < 300:
        print("300")
    elif 300 <= a < 310:
        print("310")
    elif 310 <= a < 320:
        print("320")
    elif 320 <= a < 330:
        print("330")
    elif 330 <= a < 340:
        print("340")
    elif 340 <= a < 350:
        print("350")
    elif 350 <= a < 360:
        print("360")
    elif 360 <= a < 370:
        print("370")
    elif 370 <= a < 380:
        print("380")
    elif 380 <= a < 390:
        print("390")
    elif 390 <= a < 400:
        print("400")
    elif 400 <= a < 410:
        print("410")
    elif 410 <= a < 420:
        print("420")
    elif 420 <= a < 430:
        print("430")
    elif 430 <= a < 440:
        print("440")
    elif 440 <= a < 450:
        print("450")
    elif 450 <= a < 460:
        print("460")
    elif 460 <= a < 470:
        print("470")
    elif 470 <= a < 480:
        print("480")
    elif 480 <= a < 490:
        print("490")
    elif 490 <= a < 500:
        print("500")
    elif 500 <= a < 510:
        print("510")
    elif 510 <= a < 520:
        print("520")
    elif 520 <= a < 530:
        print("530")
    elif 530 <= a < 540:
        print("540")
    elif 540 <= a < 550:
        print("550")
    elif 550 <= a < 560:
        print("560")
    elif 560 <= a < 570:
        print("570")
    elif 570 <= a < 580:
        print("580")
    elif 580 <= a < 590:
        print("590")
    elif 590 <= a < 600:
        print("600")
    elif 600 <= a < 610:
        print("610")
    elif 610 <= a < 620:
        print("620")
    elif 620 <= a < 630:
        print("630")
    elif 630 <= a < 640:
        print("640")
    elif 640 <= a < 650:
        print("650")
    elif 650 <= a < 660:
        print("660")
    elif 660 <= a < 670:
        print("670")
    elif 670 <= a < 680:
        print("680")
    elif 680 <= a < 690:
        print("690")
    elif 690 <= a < 700:
        print("700")
    elif 700 <= a < 710:
        print("710")
    elif 710 <= a < 720:
        print("720")
    elif 720 <= a < 730:
        print("730")
    elif 730 <= a < 740:
        print("740")
    elif 740 <= a < 750:
        print("750")
    elif 750 <= a < 760:
        print("760")
    elif 760 <= a < 770:
        print("770")
    elif 770 <= a < 780:
        print("780")
    elif 780 <= a < 790:
        print("790")
    elif 790 <= a < 800:
        print("800")
    elif 800 <= a < 810:
        print("810")
    elif 810 <= a < 820:
        print("820")
    elif 820 <= a < 830:
        print("830")
    elif 830 <= a < 840:
        print("840")
    elif 840 <= a < 850:
        print("850")
    elif 850 <= a < 860:
        print("860")
    elif 860 <= a < 870:
        print("870")
    elif 870 <= a < 880:
        print("880")
    elif 880 <= a < 890:
        print("890")
    elif 890 <= a < 900:
        print("900")
    elif 900 <= a < 910:
        print("910")
    elif 910 <= a < 920:
        print("920")
    elif 920 <= a < 930:
        print("930")
    elif 930 <= a < 940:
        print("940")
    elif 940 <= a < 950:
        print("950")
    elif 950 <= a < 960:
        print("960")
    elif 960 <= a < 970:
        print("970")
    elif 970 <= a < 980:
        print("980")
    elif 980 <= a < 990:
        print("990")
    elif 990 <= a < 1000:
        print("1000")
    elif 1000 <= a < 1010:
        print("1010")
    elif 1010 <= a < 1020:
        print("1020")
    elif 1020 <= a < 1030:
        print("1030")
    elif 1030 <= a < 1040:
        print("1040")
    elif 1040 <= a < 1050:
        print("1050")
    elif 1050 <= a < 1060:
        print("1060")
    elif 1060 <= a < 1070:
        print("1070")
# }}}



t_start = time.time()
for _ in range(1000):
    f_without_elif()
t_end   = time.time()
print(f"without elif: {(t_end - t_start)/1000} sec")

t_with_elif_start = time.time()
for _ in range(1000):
    f_with_elif()
t_with_elif_end   = time.time()
print(f"with elif   : {(t_with_elif_end - t_with_elif_start)/1000} sec")
```
</details>
<h1>結果</h1>
<p><code>print</code>でたくさん標準出力を使っていますが、 そこの値は重要ではないので 私は<a href="https://github.com/thinca/vim-quickrun">quickrun</a>を使って vim上のバッファで加工して消しています</p>
<div class="ui segment">
<div class="ui top right attached label">

</div>
<pre class="SourceCode"><code>without elif: 4.281997680664063e-06 sec
with elif   : 9.88006591796875e-07 sec</code></pre>
</div>
<p>一瞬遅くなって見えますが、桁が一桁違います。少数表記にすると</p>
<div class="ui segment">
<div class="ui top right attached label">

</div>
<pre class="SourceCode"><code>without elif: 0.000004 sec
with elif   : 0.000001 sec</code></pre>
</div>
<p>となり、<code>elif</code>の方が速いことがわかります。</p>
<h1>考察</h1>
<p>なぜ速いのかを考えてみます。</p>
<h2>構文木</h2>
<p><code>elif</code>には特別なノードがなく、構文木に落とすと親の<code>If</code>ノードの<code>oreelse</code>に含まれる<code>If</code>ノードになります。</p>
<div class="ui segment">
<div class="ui top right attached label">
python
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode python SourceCode"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="im">import</span> ast</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="bu">print</span>(ast.dump(ast.parse(<span class="st">&quot;&quot;&quot;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="st">if x:</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="st">   ...</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="st">elif y:</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="st">   ...</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="st">else:</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a><span class="st">   ...</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true"></a><span class="st">if z:</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true"></a><span class="st">    ...</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true"></a><span class="st">&quot;&quot;&quot;</span>)))</span></code></pre></div>
</div>
<div class="ui segment">
<div class="ui top right attached label">

</div>
<pre class="SourceCode"><code>Module(
    body=[
        If(test=Name(id=&#39;x&#39;, ctx=Load()),
           body=[Expr(value=Ellipsis())],
           orelse=[
              If(test=Name(id=&#39;y&#39;, ctx=Load()),
                 body=[Expr(value=Ellipsis())],
                 orelse=[Expr(value=Ellipsis())])
              ]
          ),
        If(test=Name(id=&#39;z&#39;, ctx=Load()),
           body=[Expr(value=Ellipsis())],
           orelse=[])
        ]
)</code></pre>
</div>
<p>https://docs.python.org/ja/3/library/ast.html?highlight=elif#ast.If</p>
<h2>ステップ数を調べる</h2>
<p>おそらく、if文が実行される回数が少ないはず、なのでpythonのデバッガである<a href="https://docs.python.org/3/library/pdb.html">pdb</a>を使って調べてみます。</p>
<div class="ui segment">
<div class="ui top right attached label">

</div>
<pre class="SourceCode"><code>&gt;&gt;&gt; # まずはelif使わないもの
&gt;&gt;&gt; pdb.run(&quot;&quot;&quot;
    ... if True:
    ...     print(&quot;s&quot;)
    ... if False:
    ...     print(&quot;f&quot;)
    ... &quot;&quot;&quot;)
&gt; &lt;string&gt;(3)&lt;module&gt;()-&gt;None
(Pdb) n
s
&gt; &lt;string&gt;(4)&lt;module&gt;()-&gt;None
(Pdb)
--Return--
&gt; &lt;string&gt;(4)&lt;module&gt;()-&gt;None
(Pdb)
&gt;&gt;&gt; pdb.run(&quot;&quot;&quot;
    ... if True:
    ...     print(&quot;s&quot;)
    ... elif False:
    ...     print(&quot;f&quot;)
    ... &quot;&quot;&quot;)
&gt; &lt;string&gt;(3)&lt;module&gt;()-&gt;None
(Pdb) n
s
--Return--
&gt; &lt;string&gt;(3)&lt;module&gt;()-&gt;None
(Pdb)
&gt;&gt;&gt;</code></pre>
</div>
<p>やはり、<code>if</code>文を分割した場合と比べて<code>elif</code>の方が"--Return--"が早く来ていますね。 これひとつではそこまで差異はないと思いますが、もっと複雑な条件式を使っている場合や何度も重なっている場合は影響が出そうですね。</p>
]]></summary>
</entry>
<entry>
    <title>VRM_IMPORTER_for_BlenderでVRMモデルを作る際の注意点</title>
    <link href="https://cj-bc.github.io/blog/posts/2020-10-24-blender-vrmImporter-Not-Object-on-origin.html" />
    <id>https://cj-bc.github.io/blog/posts/2020-10-24-blender-vrmImporter-Not-Object-on-origin.html</id>
    <published>2020-10-24T00:00:00Z</published>
    <updated>2020-10-24T00:00:00Z</updated>
    <summary type="html"><![CDATA[<div class="ui center aligned icon header">
  <h1>VRM_IMPORTER_for_BlenderでVRMモデルを作る際の注意点</h1>
  <div class="ui list">
    <div class="item">Posted on October 24, 2020</div>
    <div class="item">
      <i class="history icon"></i>
      Updated on November 15, 2020
    </div>
  </div>
    
</div>
<div class="info">
  
  <a title="All pages tagged &#39;VRM&#39;." href="/tags/VRM.html" class="ui tag label">VRM</a><a title="All pages tagged &#39;blender&#39;." href="/tags/blender.html" class="ui tag label">blender</a><a title="All pages tagged &#39;VRM_IMPORTER_for_Blender&#39;." href="/tags/VRM_IMPORTER_for_Blender.html" class="ui tag label">VRM_IMPORTER_for_Blender</a>
  
</div>

<h1>全てのメッシュの原点(Origin)を <em>ワールド座標系の</em> 原点に置く</h1>
<div class="ui piled segment" style="z-index: 0">
<blockquote>
<p>There are not an object on the origin <mesh名> (もしくは) <mesh名> が原点座標にありません</p>
</blockquote>
</div>
<p>というエラーについて。単刀直入にいうと、 全てのメッシュは <strong>Originをワールド座標系の原点におく必要があります</strong></p>
<p>これは、 <strong><code>Set origin&gt; Origin to Geometry</code>とは違う</strong> ので注意してください。</p>
<p>これをするには、</p>
<ol>
<li>3Dカーソルを原点に移動</li>
<li>オブジェクトを選択</li>
<li><code>Set origin&gt; Origin to 3D cursor</code></li>
</ol>
<p>の手順を踏みます。</p>
<h1>追加したmeshオブジェクトのtransformは全て0(scaleは1)にする</h1>
<p>Blender上では全然問題なく見えますが、これをしておかないとexportした後に変な位置にオブジェクトが表示されてしまいます。 (私は<code>3tenePRO</code>で動作確認をしていますが、おそらく他でもそうなると思います。)<br />
具体的には、「全てのトランスフォームが0(scaleは1)に指定された通りに表示」されます。</p>
<h2>具体例:</h2>
<p>scaleが1になっていない例 <img src="/images/sscale_isnt_1.jpeg" class="ui rounded image" alt="scaleが1じゃない" /></p>
<p>scaleが1になるように調整した例 <img src="/images/scale_is_1.jpeg" class="ui rounded image" alt="scaleが1" /></p>
<p>rotationが0になっていない例 <img src="/images/rotation_isnt_0.jpeg" class="ui rounded image" alt="rotationが0じゃない" /></p>
<p>rotationが0になっている例 <img src="/images/rotation_is_0.jpeg" class="ui rounded image" alt="rotationが0" /></p>
<h2>直し方</h2>
<p>Inspectorで各transformの値を確認します。そうしたら、それを覚えておき値は0に修正。 <code>Edit mode</code>に移行して、 <strong>originを中心に、軸を指定して先ほど覚えた値分</strong> 回転させます。</p>
<h2>最終系</h2>
<p>綺麗になりました！！</p>
<p><img src="/images/completed.jpg" class="ui rounded image" alt="全部直した" /></p>
<h1>Shade Textureは必ず設定する</h1>
<p>ShadeTextureを設定していないと、面を法線と反対側から見たときにピンク色になってしまいます。 これは、<code>Shade Color</code>が塗られているからで、それを防ぎ表面と同じものを表示したい場合は必ず設定する必要があります。 なお、<code>MainTexture</code>と同じテクスチャで問題ないと思います。</p>
<p>設定してなかった:<br />
<blockquote class="twitter-tweet" data-conversation="none" data-theme="dark"><p lang="ja" dir="ltr">色々と調節は必要そうだね <a href="https://t.co/ndXTzYKdfQ">pic.twitter.com/ndXTzYKdfQ</a></p>— mi'e himari (@mihe_himari) <a href="https://twitter.com/mihe_himari/status/1320608433352003584?ref_src=twsrc%5Etfw">October 26, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>
<p>設定した:<br />
<blockquote class="twitter-tweet" data-conversation="none" data-theme="dark"><p lang="ja" dir="ltr">他のオブジェクトにも設定してきた...ﾖｼ!! <a href="https://t.co/8tMJyUaawt">pic.twitter.com/8tMJyUaawt</a></p>— mi'e himari (@mihe_himari) <a href="https://twitter.com/mihe_himari/status/1320613366864330752?ref_src=twsrc%5Etfw">October 26, 2020</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>
<h1>todo</h1>
<ul class="task-list">
<li><input type="checkbox" disabled="" />
画像入れる</li>
<li><input type="checkbox" disabled="" />
動画いれる</li>
</ul>
]]></summary>
</entry>

</feed>
