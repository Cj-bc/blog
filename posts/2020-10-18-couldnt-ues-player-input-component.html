<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>CLI! CLI! CLI! -- 2020-10-18-couldnt-ues-player-input-component</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../">CLI! CLI! CLI!</a>
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <a href="../archive.html">Archive</a>
                <a href="https://Cj-bc.github.io">HP</a>
                <a href="../feeds/atom/general.xml">Atom feed</a>
                <a href="../feeds/rss/general.xml">RSS</a>
            </div>
        </div>

        <div id="content">
            <h1>2020-10-18-couldnt-ues-player-input-component</h1>

            <div class="info">
  <ul>
    <li>Posted on October 18, 2020</li>
    <li>Updated on October 26, 2020</li>
  </ul>
    
</div>
<div class="info">
  
  Tags: 
  
</div>

<p>Player Inputが上手く使えないと思ったら単純なミスだった</p>
<h1>tl;dr</h1>
<p>UnityEventを使用する場合、Eventに登録するスクリプトは、そのInspectorビューから選択し、スクリプトファイルそのものを入れないようにする</p>
<hr />
<p>Player Inputは、Unityで<code>2019.1</code>から追加された、<code>Input</code>に取って変わる新しい入力管理システムです。 詳しくは<a href="https://blogs.unity3d.com/jp/2019/10/14/introducing-the-new-input-system/">新しい Input System のご紹介 -- blogs.unity3d.com</a>を参照してください。</p>
<h1>環境</h1>
<p>ソフトウェア バージョン ------------- --------------------- - Unity 2019.4.11f1 Personal InputSystem 1.0.0</p>
<h1>現状</h1>
<p>基本的には<a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/manual/QuickStartGuide.html">Quick Start Guide</a>に沿って作業をしています。(<code>Input System</code>は導入済とします。)</p>
<ol>
<li>入力を反映させたい<code>GameObject</code>に<code>PlayerInput</code>をattachします。</li>
<li>"Create Actions"を押し、新しい<code>Action Asset</code>を作成します</li>
<li>"Quick Start Guide"に従って、入力を<code>Unity Events</code>で受けとるようにします。</li>
<li>今回は必要なかったので、デフォルトで入っているActionを自分で使うものに入れかえました</li>
<li><code>1.</code>の<code>GameObject</code>に戻り、<code>PlayerInput</code>のEvents欄にScript fileを指定します</li>
<li>あれ!?<code>No Function</code>しか出てこない!?</li>
</ol>
<h1>原因</h1>
<p>今回の原因は、上記の<code>5.</code>にある <strong>Events欄に設定したもの</strong> でした。 ここで、私は「スクリプトファイル自体」を選択していましたが、そうではなく、「実際に使いたいオブジェクトに紐づけられている該当ファイルのインスタンスを渡してると、上手くいきます。</p>
<h2>もう一つ考えられる原因</h2>
<p>今回は違いましたが、調べている間に見つけたのが<a href="https://forum.unity.com/threads/cant-assign-public-script-function-to-player-input-component-new-input-system.881032/">これ</a>で、「コールバック関数の引数は<code>InputAction.CallbackContext callbackContext</code>にしないといけない、というもの。</p>

        </div>
        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    </body>
</html>
